(function(){var a;a=jQuery,GroundworkCSS.responsiveTableIndex=0,GroundworkCSS.delayedAdjustTables=[],GroundworkCSS.responsiveTableElements=[],GroundworkCSS.ResponsiveTable=function(){function b(b){this.index=GroundworkCSS.responsiveTableIndex++,this.el=b,this.compression=a(this.el).data("compression")||5,this.minFontSize=a(this.el).data("min")||10,this.maxFontSize=a(this.el).data("max")||Number.POSITIVE_INFINITY,this.width=a(this.el).data("width")||"100%",this.height=a(this.el).data("height")||"auto",this.adjustParents=a(this.el).data("adjust-parents")||!0,this.styled=a(this.el).data("styled")||!0,this.columns=a("tbody tr",a(this.el)).first().find("th, td").length,this.rows=a("tbody tr",a(this.el)).length,this.init()}return b.prototype.init=function(){return this.setupTable(),this.adjustOnLoad(),this.adjustOnResize()},b.prototype.fontSize=function(){var b;return b="auto"===this.height?a("tbody td",a(this.el)).first().width()/this.compression:a(this.el).height()/this.rows/this.compression,Math.min(this.maxFontSize,Math.max(b,this.minFontSize))},b.prototype.setupTable=function(){return a(this.el).css("width",this.width),"auto"!==this.height&&a(this.el).css("height",this.height),a("th, td",a(this.el)).css("width",100/this.columns+"%"),this.styled&&a(this.el).addClass("responsiveTable"),"auto"!==this.height&&(a("th, td",a(this.el)).css("height",100/this.rows+"%"),this.adjustParents&&a(this.el).parents().each(function(){return a(this).css("height","100%")})),a(this.el).css("font-size",this.fontSize())},b.prototype.resizeTable=function(){return a(this.el).css("font-size",this.minFontSize).css("font-size",this.fontSize())},b.prototype.adjustOnLoad=function(){var b=this;return a(window).on("load",function(){return b.resizeTable()})},b.prototype.adjustOnResize=function(){var b=this;return a(window).on("resize",function(){return clearTimeout(GroundworkCSS.delayedAdjustTables[b.index]),GroundworkCSS.delayedAdjustTables[b.index]=setTimeout(function(){return b.resizeTable()},20)})},b}(),a.fn.responsiveTables=function(){return this.each(function(){return GroundworkCSS.responsiveTableElements.push(new GroundworkCSS.ResponsiveTable(this))})},a(document).ready(function(){return a("table.responsive").responsiveTables()})}).call(this);